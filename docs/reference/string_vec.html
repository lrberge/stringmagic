<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Efficient creation of string vectors with optional interpolation — string_vec_alias • stringmagic</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Efficient creation of string vectors with optional interpolation — string_vec_alias"><meta property="og:description" content='Create string vectors in multiple ways: 1) add successive string elements (like in c()),
or 2) write a character string that will be broken with respect to commas
("hi, there" becomes c("hi", "there")), or 3) interpolate variables in
character strings ("x{1:2}" becomes c("x1", "x2")) with full access to
string_magic() operations, or any combination of the three.'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">stringmagic</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="divider">
    <li class="dropdown-header">Guides</li>
    <li>
      <a href="../articles/guide_string_magic.html">`string_magic`: Magical String Interpolation</a>
    </li>
    <li>
      <a href="../articles/guide_string_tools.html">String tools: magic edition</a>
    </li>
    <li>
      <a href="../articles/guide_customization.html">Tailor-made functions and operations</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">References</li>
    <li>
      <a href="../articles/ref_operations.html">`string_magic`'s operations: The reference</a>
    </li>
    <li>
      <a href="../articles/ref_string_magic_special_operations.html">`string_magic`'s sepcial operations</a>
    </li>
    <li>
      <a href="../articles/ref_regex_flags.html">Regular expression flags</a>
    </li>
    <li>
      <a href="../articles/ref_regex_logic.html">Regular expression logic</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/lrberge/stringmagic/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Efficient creation of string vectors with optional interpolation</h1>
    <small class="dont-index">Source: <a href="https://github.com/lrberge/stringmagic/blob/HEAD/R/aliases.R" class="external-link"><code>R/aliases.R</code></a>, <a href="https://github.com/lrberge/stringmagic/blob/HEAD/R/string_tools.R" class="external-link"><code>R/string_tools.R</code></a></small>
    <div class="hidden name"><code>string_vec.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Create string vectors in multiple ways: 1) add successive string elements (like in <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code>),
or 2) write a character string that will be broken with respect to commas
(<code>"hi, there"</code> becomes <code>c("hi", "there")</code>), or 3) interpolate variables in
character strings (<code>"x{1:2}"</code> becomes <code>c("x1", "x2")</code>) with full access to
<code><a href="string_magic.html">string_magic()</a></code> operations, or any combination of the three.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">string_vec_alias</span><span class="op">(</span></span>
<span>  .cmat <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  .nmat <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  .df <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  .df.convert <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  .last <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .delim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"{"</span>, <span class="st">"}"</span><span class="op">)</span>,</span>
<span>  .split <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  .protect.vars <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  .sep <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .collapse <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .namespace <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">string_vec</span><span class="op">(</span></span>
<span>  <span class="va">...</span>,</span>
<span>  .cmat <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  .nmat <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  .df <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  .df.convert <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  .delim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"{"</span>, <span class="st">"}"</span><span class="op">)</span>,</span>
<span>  .envir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">parent.frame</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  .split <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  .protect.vars <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  .sep <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .last <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .collapse <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .namespace <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>.cmat</dt>
<dd><p>Logical scalar (default is <code>FALSE</code>), integer or complex with integer values.
If <code>TRUE</code>, we try to coerce the result into a <strong>character</strong> matrix. The number of rows and columns
is deduced from the look of the arguments. An integer indicates the number of rows.
If a complex, the imaginary part represents the number of columns. Ex: <code>5i</code> means
5 columns, <code>3 + 2i</code> means 3 rows and 2 columns.</p>
<p>The matrix is always filled by row.</p></dd>


<dt>.nmat</dt>
<dd><p>Logical scalar (default is <code>FALSE</code>), integer or complex with integer values.
If <code>TRUE</code>, we try to coerce the result into a <strong>numeric</strong> matrix. The number of rows and columns
is deduced from the look of the arguments. An integer indicates the number of rows.
If a complex, the imaginary part represents the number of columns. Ex: <code>5i</code> means
5 columns, <code>3 + 2i</code> means 3 rows and 2 columns.</p>
<p>The matrix is always filled by row. Non numbers are silently turned to NA.</p></dd>


<dt>.df</dt>
<dd><p>Logical scalar (default is <code>FALSE</code>), integer, complex with integer values, or
character vector.
If <code>TRUE</code>, we try to coerce the result into a <code>data.frame</code>. The number of rows and columns
is deduced from the look of the arguments. An integer indicates the number of rows.
If a complex, the imaginary part represents the number of columns. Ex: <code>5i</code> means
5 columns, <code>3 + 2i</code> means 3 rows and 2 columns.</p>
<p>If a character vector: it should give the column names. Note that if the vector
is of length 1, its values are comma separated (i.e. the value <code>"id, name"</code> is
identical to <code>c("id", "name")</code>).</p>
<p>Note that the columns that can be converted to numeric are converted to numeric.
The other columns are in string form. Monitor this behavior with <code>.df.convert</code>.</p></dd>


<dt>.df.convert</dt>
<dd><p>Logical scalar, default is <code>TRUE</code>. Only used when the result is
to be converted to a data frame (with the argument <code>.df</code>). If <code>TRUE</code>, any column
looking like a numeric vector is converted to numeric. Otherwise all columns
are character strings.</p></dd>


<dt>.last</dt>
<dd><p>Character scalar, a function, or <code>NULL</code> (default). If provided and character:
it must be an <code>string_magic</code> chain of operations of the form <code>"'arg1'op1, op2, etc"</code>. All these operations
are applied just before returning the vector. If a function,
it will be applied to the resulting vector.</p></dd>


<dt>.delim</dt>
<dd><p>Character vector of length 1 or 2. Default is <code>c("{", "}")</code>. Defines
the opening and the closing delimiters for interpolation.</p>
<p>If of length 1, it must be of the form: 1) the opening delimiter,
2) a single space, 3) the closing delimiter. Ex: <code>".[ ]"</code> is equivalent to <code>c(".[", "]")</code>.
The default value is equivalent to <code>"{ }"</code>.</p>
<p>[ ]: R:%20
[", "]: R:%22,%20%22</p></dd>


<dt>.split</dt>
<dd><p>Logical or a character symbol, default is <code>TRUE</code>. If <code>TRUE</code>,
the character vectors are split with respect to commas (default). If <code>FALSE</code>, no
splitting is performed. If a character symbol, the string vector will be split
according to this symbol. Note that any space after the symbol (including tabs and
newlines) is discarded.</p>
<p>Ex: by default <code>string_vec("hi, there")</code> leads to the vector <code>c("hi", "there")</code>.</p></dd>


<dt>.protect.vars</dt>
<dd><p>Logical scalar, default is <code>TRUE</code>. If <code>TRUE</code>, then only
arguments equal to a "natural" character scalar are comma-split and interpolated,
other arguments are not touched. Ex: <code>string_vec("x{1:5}")</code> will lead to a vector of
length 5 ("x1" to "x5"), while <code>z = "x{1:5}"</code> followed by <code>string_vec(z)</code> leads
to a vector of length 1: <code>"x{1:5}"</code>. If <code>FALSE</code>, comma-splitting and interpolation
is performed on all variables.</p></dd>


<dt>.sep</dt>
<dd><p>Character scalar or <code>NULL</code> (default). If not <code>NULL</code>, the function
<code><a href="https://rdrr.io/r/base/paste.html" class="external-link">base::paste()</a></code> is applied to the resulting vector with <code>sep = .sep</code>.</p></dd>


<dt>.collapse</dt>
<dd><p>Character scalar or <code>NULL</code> (default). If not <code>NULL</code>, the function
<code><a href="https://rdrr.io/r/base/paste.html" class="external-link">base::paste()</a></code> is applied to the resulting vector with <code>collapse = .collapse</code>.</p>
<p>If so, pass the name of your package in this argument so that your function can access
the new <code>string_magic</code> operations defined within your package.</p></dd>


<dt>.namespace</dt>
<dd><p>Character scalar or <code>NULL</code> (default). <strong>Only useful for package developers.</strong>
As a regular end-user you shouldn't care! If your package uses <code>string_magic</code>, you should care.
It is useful <strong>only</strong> if your package uses 'custom' <code>string_magic</code> operations, set with
<code><a href="string_magic_register_fun.html">string_magic_register_fun()</a></code> or <code><a href="string_magic_register_fun.html">string_magic_register_ops()</a></code>.</p></dd>


<dt>...</dt>
<dd><p>Character vectors that will be vectorized. If commas are present in the
character vector, it will be split with respect to commas and following blanks.
The vectors can contain any interpolation in the form <code>"{var}"</code> and
any <code><a href="string_magic.html">string_magic()</a></code> operation can be applied. To change the delimiters for interpolation,
see <code>.delim</code>. Named arguments are used in priority for variable substitution,
otherwise the value of the variables to be interpolated are fetched in the calling environment
(see argument <code>.envir</code>).</p>
<p>Note, importantly, that interpolation and comma splitting are performed on "natural" vectors only.
That is: <code>string_vec("x{1:5}")</code> will lead to a vector of length 5 ("x1" to "x5"), while <code>z = "x{1:5}"</code>
followed by <code>string_vec(z)</code> leads to a vector of length 1: <code>"x{1:5}"</code>. To change this behavior and
obtain equivalent results, use <code>.protect.vars = FALSE</code>.</p></dd>


<dt>.envir</dt>
<dd><p>An environment used to evaluate the variables in <code>"{}"</code>. By default the variables are
evaluated using the environment from where the function is called or using the named
arguments passed to the function.</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>The default of the argument <code>.protect.vars</code> is <code>FALSE</code> so as to avoid unwanted
comma-splitting and interpolations. The main use case of this function is
the creation of small string vectors, which can be written directly at
function call.</p>
<p>Customize the default of this function with <code>string_vec_alias()</code>.</p>
    </div>
    <div id="functions">
    <h2>Functions</h2>
    
<ul><li><p><code>string_vec_alias()</code>: Create <code>string_vec</code> aliases with custom defaults</p></li>
</ul></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other tools with aliases: 
<code><a href="cat_magic.html">cat_magic_alias</a>()</code>,
<code><a href="string_clean.html">string_clean_alias</a>()</code>,
<code><a href="string_magic_alias.html">string_magic_alias</a>()</code>,
<code><a href="string_magic.html">string_magic</a>()</code>,
<code><a href="string_ops.html">string_ops_alias</a>()</code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Laurent Berge</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># illustrating comma-splitting and interpolation</span></span></span>
<span class="r-in"><span><span class="fu">string_vec</span><span class="op">(</span><span class="st">"x1, y2, z{4:5}"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "x1" "y2" "z4" "z5"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># variable protection</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">=</span> <span class="st">"x{1:5}"</span></span></span>
<span class="r-in"><span><span class="fu">string_vec</span><span class="op">(</span><span class="va">x</span>, <span class="st">"y{1:2}"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "x{1:5}" "y1"     "y2"    </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># without protection =&gt; interpolation takes place</span></span></span>
<span class="r-in"><span><span class="fu">string_vec</span><span class="op">(</span><span class="va">x</span>, <span class="st">"y{1:2}"</span>, .protect.vars <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "x1" "x2" "x3" "x4" "x5" "y1" "y2"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># removing comma splitting</span></span></span>
<span class="r-in"><span><span class="fu">string_vec</span><span class="op">(</span><span class="st">"Hi, said Charles."</span>, <span class="st">"Hi, said {girl}."</span>, girl <span class="op">=</span> <span class="st">"Julia"</span>, .split <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Hi, said Charles." "Hi, said Julia."  </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># changing the delimiters for interpolation</span></span></span>
<span class="r-in"><span><span class="va">pkg</span> <span class="op">=</span> <span class="st">"\\usepackage[usenames,dvipsnames]{xcolor}"</span></span></span>
<span class="r-in"><span><span class="fu">string_vec</span><span class="op">(</span><span class="st">"\\usepackage{.[S!graphicx, fourier, standalone]}"</span>, </span></span>
<span class="r-in"><span>           <span class="va">pkg</span>, .delim <span class="op">=</span> <span class="st">".[ ]"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "\\usepackage{graphicx}"                   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2] "\\usepackage{fourier}"                    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3] "\\usepackage{standalone}"                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4] "\\usepackage[usenames,dvipsnames]{xcolor}"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># Customization</span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Unhappy about the defaults? Create an alias!</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># we create a "matrix generator"</span></span></span>
<span class="r-in"><span><span class="va">matgen</span> <span class="op">=</span> <span class="fu">string_vec_alias</span><span class="op">(</span>.nmat <span class="op">=</span> <span class="cn">TRUE</span>, .last <span class="op">=</span> <span class="st">"'\n'split"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">matgen</span><span class="op">(</span><span class="st">"5, 4, 3</span></span></span>
<span class="r-in"><span><span class="st">        8, 6, 2"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1] [,2] [,3]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]    5    4    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]    8    6    2</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Laurent R Berge.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

