<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Efficient creation of string vectors with optional interpolation — str_vec • stringmagic</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Efficient creation of string vectors with optional interpolation — str_vec"><meta property="og:description" content='Create string vectors in multiple ways: 1) add successive string elements (like in c()),
or 2) write a character string that will be broken with respect to commas
("hi, there" becomes c("hi", "there")), or 3) interpolate variables in
character strings ("x{1:2}" becomes c("x1", "x2")) with full access to
smagic() operations, or any combination of the three.'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">stringmagic</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/stringmagic_tour.html">`stringmagic`: A quick tour</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Guides</li>
    <li>
      <a href="../articles/smagic_walkthrough.html">`smagic`: Magical string interpolation</a>
    </li>
    <li>
      <a href="../articles/string_tools.html">String tools: magic edition</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/lrberge/stringmagic/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Efficient creation of string vectors with optional interpolation</h1>
    <small class="dont-index">Source: <a href="https://github.com/lrberge/stringmagic/blob/HEAD/R/string_tools.R" class="external-link"><code>R/string_tools.R</code></a></small>
    <div class="hidden name"><code>str_vec.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Create string vectors in multiple ways: 1) add successive string elements (like in <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code>),
or 2) write a character string that will be broken with respect to commas
(<code>"hi, there"</code> becomes <code>c("hi", "there")</code>), or 3) interpolate variables in
character strings (<code>"x{1:2}"</code> becomes <code>c("x1", "x2")</code>) with full access to
<code><a href="smagic.html">smagic()</a></code> operations, or any combination of the three.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">str_vec</span><span class="op">(</span></span>
<span>  <span class="va">...</span>,</span>
<span>  .delim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"{"</span>, <span class="st">"}"</span><span class="op">)</span>,</span>
<span>  .envir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">parent.frame</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  .split <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  .protect.vars <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>...</dt>
<dd><p>Character vectors that will be vectorized. If commas are present in the
character vector, it will be split with respect to commas and following blanks.
The vectors can contain any interpolation in the form <code>"{var}"</code> and
any <code><a href="smagic.html">smagic()</a></code> operation can be applied. To change the delimiters for interpolation,
see <code>.delim</code>. Named arguments are used in priority for variable substitution,
otherwise the value of the variables to be interpolated are fetched in the calling environment
(see argument <code>.envir</code>).</p>
<p>Note, importantly, that interpolation and comma splitting are performed on "natural" vectors only.
That is: <code>str_vec("x{1:5}")</code> will lead to a vector of length 5 ("x1" to "x5"), while <code>z = "x{1:5}"</code>
followed by <code>str_vec(z)</code> leads to a vector of length 1: <code>"x{1:5}"</code>. To change this behavior and
obtain equivalent results, use <code>.protect.vars = FALSE</code>.</p></dd>


<dt>.delim</dt>
<dd><p>Character vector of length 1 or 2. Default is <code>c("{", "}")</code>. Defines
the opening and the closing delimiters for interpolation.</p>
<p>If of length 1, it must be of the form: 1) the opening delimiter,
2) a single space, 3) the closing delimiter. Ex: <code>".[ ]"</code> is equivalent to <code>c(".[", "]")</code>.
The default value is equivalent to <code>"{ }"</code>.</p>
<p>[ ]: R:%20
[", "]: R:%22,%20%22</p></dd>


<dt>.envir</dt>
<dd><p>An environment used to evaluate the variables in <code>"{}"</code>. By default the variables are
evaluated using the environment from where the function is called or using the named
arguments passed to the function.</p></dd>


<dt>.split</dt>
<dd><p>Logical, default is <code>TRUE</code>. Whether to split the vector with
respect to commas. Ex: by default <code>str_vec("hi, there")</code> leads to the
vector <code>c("hi", "there")</code>.</p></dd>


<dt>.protect.vars</dt>
<dd><p>Logical scalar, default is <code>TRUE</code>. If <code>TRUE</code>, then only
arguments equal to a "natural" character scalar are comma-split and interpolated,
other arguments are not touched. Ex: <code>str_vec("x{1:5}")</code> will lead to a vector of
length 5 ("x1" to "x5"), while <code>z = "x{1:5}"</code> followed by <code>str_vec(z)</code> leads
to a vector of length 1: <code>"x{1:5}"</code>. If <code>FALSE</code>, comma-splitting and interpolation
is performed on all variables.</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>The default of the argument <code>.protect.vars</code> is <code>FALSE</code> so as to avoid unwanted
comma-splitting and interpolations. The main use case of this function is
the creation of small string vectors, which can be written directly at
function call.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>A few basic operation: <code><a href="str_is.html">str_is()</a></code>, <code><a href="str_get.html">str_get()</a></code>, <code><a href="str_clean.html">str_clean()</a></code>. Chain basic operations with <code><a href="str_ops.html">str_ops()</a></code>.
Use <code>str_vec()</code> to create simple string vectors.
String interpolation combined with operation chaining: <code><a href="smagic.html">smagic()</a></code>.</p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Laurent Berge</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># illustrating comma-splitting and interpolation</span></span></span>
<span class="r-in"><span><span class="fu">str_vec</span><span class="op">(</span><span class="st">"x1, y2, z{4:5}"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "x1" "y2" "z4" "z5"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># variable protection</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">=</span> <span class="st">"x{1:5}"</span></span></span>
<span class="r-in"><span><span class="fu">str_vec</span><span class="op">(</span><span class="va">x</span>, <span class="st">"y{1:2}"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "x{1:5}" "y1"     "y2"    </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># without protection =&gt; interpolation takes place</span></span></span>
<span class="r-in"><span><span class="fu">str_vec</span><span class="op">(</span><span class="va">x</span>, <span class="st">"y{1:2}"</span>, .protect.vars <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "x1" "x2" "x3" "x4" "x5" "y1" "y2"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># removing comma splitting</span></span></span>
<span class="r-in"><span><span class="fu">str_vec</span><span class="op">(</span><span class="st">"Hi, said Charles."</span>, <span class="st">"Hi, said {girl}."</span>, girl <span class="op">=</span> <span class="st">"Julia"</span>, .split <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Hi, said Charles." "Hi, said Julia."  </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># changing the delimiters for interpolation</span></span></span>
<span class="r-in"><span><span class="va">pkg</span> <span class="op">=</span> <span class="st">"\\usepackage[usenames,dvipsnames]{xcolor}"</span></span></span>
<span class="r-in"><span><span class="fu">str_vec</span><span class="op">(</span><span class="st">"\\usepackage{.[S!graphicx, fourier, standalone]}"</span>, </span></span>
<span class="r-in"><span>        <span class="va">pkg</span>, .delim <span class="op">=</span> <span class="st">".[ ]"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "\\usepackage{graphicx}"                   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2] "\\usepackage{fourier}"                    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3] "\\usepackage{standalone}"                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4] "\\usepackage[usenames,dvipsnames]{xcolor}"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Laurent R Berge.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

