<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Cleans a character vector from multiple patterns — str_clean • fixest</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Cleans a character vector from multiple patterns — str_clean"><meta property="og:description" content="Recursively cleans a character vector from several patterns. Quickly handle the
tedious task of data cleaning by taking advantage of the syntax.
You can also apply all sorts of cleaning operations by summoning str_ops() operations."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fixest</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/stringmagick_tour.html">`stringmagick`: A quick tour</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Guides</li>
    <li>
      <a href="../articles/smagick_walkthrough.html">`smagick`: Magical string interpolation</a>
    </li>
    <li>
      <a href="../articles/string_tools.html">String tools: Magick edition</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/lrberge/stringmagick/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Cleans a character vector from multiple patterns</h1>
    <small class="dont-index">Source: <a href="https://github.com/lrberge/stringmagick/blob/HEAD/R/string_tools.R" class="external-link"><code>R/string_tools.R</code></a></small>
    <div class="hidden name"><code>str_clean.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Recursively cleans a character vector from several patterns. Quickly handle the
tedious task of data cleaning by taking advantage of the syntax.
You can also apply all sorts of cleaning operations by summoning <code><a href="str_ops.html">str_ops()</a></code> operations.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">str_clean</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  replacement <span class="op">=</span> <span class="st">""</span>,</span>
<span>  pipe <span class="op">=</span> <span class="st">" =&gt; "</span>,</span>
<span>  sep <span class="op">=</span> <span class="st">",[ \n\t]+"</span>,</span>
<span>  ignore.case <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  fixed <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  word <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  total <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>A character vector.</p></dd>


<dt>...</dt>
<dd><p>Character scalars representing patterns. A pattern is of the form
"flags/pat1, pat2 =&gt; replacement". This means that patterns 'pat1' and 'pat2' will be replaced
with the string 'replacement'. By default patterns are comma separated and the replacement comes
after a ' =&gt; ' (see args <code>sep</code> and <code>pipe</code> to change this). By default the replacement is the empty string
(so "pat1, pat2" <em>removes</em> the patterns).</p>
<p>Available flags are: 'word' (add word boundaries), 'ignore' (the case), 'fixed' (no regex), and 'total'.
The flag <code>total</code> leads to a <em>total replacement</em> of the string if the pattern is found. Use flags
with comma separation ("word, total/pat") or use only their initials ("wt/pat").</p>
<p>Starting with an '@' leads to operations in <code><a href="str_ops.html">str_ops()</a></code>. Ex: "@ascii, lower, ws" turns
the string into ASCII, lowers the case and normalizes white spaces (see help of <code><a href="str_ops.html">str_ops()</a></code>).</p></dd>


<dt>replacement</dt>
<dd><p>Character scalar, default is the empty string. It represents the default
value by which the patterns found in the character strings will be replaced. For example
<code>str_clean(x, "e", replacement = "a")</code> turn all letters "e" in <code>x</code> into "a".</p></dd>


<dt>pipe</dt>
<dd><p>Character scalar, default is <code>" =&gt; "</code>. If thevalue of <code>pipe</code> is found in a pattern,
then the string is split w.r.t. the pipe and anything after the pipe becomes the replacement.</p>
<p>For example in <code>str_clean(x, "e =&gt; a")</code> the default pipe is found in "e =&gt; a", so the pattern
"e" will be replaced with "a". In other terms, this is equivalent to <code>str_clean(x, "e", replacement = "a")</code>.
Example changing the pipe: you can obtain the previous result with <code>str_clean(x, "e|&gt;a", pipe = "|&gt;")</code>.</p></dd>


<dt>sep</dt>
<dd><p>Character scalar, default is <code>",[ \t\n]+"</code> (which means a comma followed with spaces
and/or new lines). By default the patterns to be replaced are comma separated, that is
the pattern is split w.r.t. the argument <code>sep</code> and a replacement is done for each sub-pattern.</p>
<p>Use <code>NULL</code> or the empty string to disable pattern separation.</p>
<p>For example: let's look at <code>str_clean(x, "w/one, two =&gt; three")</code>. First the flag "word" is extracted from
the pattern (see arg. <code>...</code>) as well as the replacement (see arg. <code>pipe</code>), leading to "one, two" the
pattern to be replaced. Then the pattern is split w.r.t. <code>sep</code>, leading
to two patterns "one" and "two". Hence the words (thanks to the flag "w") "one" and "two" from
the string <code>x</code> will be replaced with "three".</p></dd>


<dt>ignore.case</dt>
<dd><p>Logical scalar, default is <code>FALSE</code>. If <code>TRUE</code>, then case insensitive search is triggered.</p></dd>


<dt>fixed</dt>
<dd><p>Logical scalar, default is <code>FALSE</code>. Whether to trigger a fixed search instead of a
regular expression search (default).</p></dd>


<dt>word</dt>
<dd><p>Logical scalar, default is <code>FALSE</code>. If <code>TRUE</code> then a) word boundaries are added to the pattern,
and b) patterns can be chained by separating them with a comma, they are combined with an OR logical operation.
Example: if <code>word = TRUE</code>, then pattern = "The, mountain" will select strings containing either the word
'The' or the word 'mountain'.</p></dd>


<dt>total</dt>
<dd><p>Logical scalar, default is <code>FALSE</code>. If <code>TRUE</code>, then when a pattern is found
in a string, the full string is replaced (instead of just the pattern). Note, <em>importantly</em>,
that when <code>total = TRUE</code> you can use logical operators in the patterns.</p>
<p>Example: <code>str_clean(x, "wi/ &amp; two, three &amp; !four =&gt; ", total = TRUE)</code></p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>The main usage returns a character vector of the same length as the vector in input.
Note, however, that since you can apply arbitrary <code><a href="str_ops.html">str_ops()</a></code> operations, the length and type
of the final vector may depend on those (if they are used).</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>A few basic operation: <code><a href="str_is.html">str_is()</a></code>, <code><a href="str_get.html">str_get()</a></code>, <code>str_clean()</code>. Chain basic operations with <code><a href="str_ops.html">str_ops()</a></code>.
String interpolation combined with operation chaining: <code><a href="smagick.html">smagick()</a></code>.</p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Laurent R. Berge</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"hello world  "</span>, <span class="st">"it's 5 am...."</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># we clean the o's and the points (we use 'fixed' to trigger fixed-search)</span></span></span>
<span class="r-in"><span><span class="fu">str_clean</span><span class="op">(</span><span class="va">x</span>, <span class="st">"o"</span>, <span class="st">"f/."</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "hell wrld  " "it's 5 am"  </span>
<span class="r-in"><span><span class="co"># equivalently</span></span></span>
<span class="r-in"><span><span class="fu">str_clean</span><span class="op">(</span><span class="va">x</span>, <span class="st">"fixed/o, ."</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "hell wrld  " "it's 5 am"  </span>
<span class="r-in"><span><span class="co"># equivalently</span></span></span>
<span class="r-in"><span><span class="fu">str_clean</span><span class="op">(</span><span class="va">x</span>, <span class="st">"o, ."</span>, fixed <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "hell wrld  " "it's 5 am"  </span>
<span class="r-in"><span><span class="co"># equivalently</span></span></span>
<span class="r-in"><span><span class="fu">str_clean</span><span class="op">(</span><span class="va">x</span>, <span class="st">"o"</span>, <span class="st">"."</span>, fixed <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "hell wrld  " "it's 5 am"  </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># chaining operations: example using cars</span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">cars</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/row.names.html" class="external-link">row.names</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">new</span> <span class="op">=</span> <span class="fu">str_clean</span><span class="op">(</span><span class="va">cars</span>, </span></span>
<span class="r-in"><span>           <span class="co"># replace strings containing "Maz" with Mazda</span></span></span>
<span class="r-in"><span>           <span class="st">"total/Maz =&gt; Mazda"</span>, </span></span>
<span class="r-in"><span>           <span class="co"># replace the word 'Merc' with Mercedes</span></span></span>
<span class="r-in"><span>           <span class="st">"wi/merc =&gt; Mercedes"</span>,</span></span>
<span class="r-in"><span>           <span class="co"># replace strings containing "Merc" and a digit followed with an 'S'</span></span></span>
<span class="r-in"><span>           <span class="st">"t/Merc &amp; \\dS =&gt; Mercedes S!"</span>,</span></span>
<span class="r-in"><span>           <span class="co"># put to lower case, remove isolated characters and normalize white spaces</span></span></span>
<span class="r-in"><span>           <span class="st">"@lower, ws.isolated"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">cars</span>, <span class="va">new</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       cars                  new                  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1,] "Mazda RX4"           "mazda"              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2,] "Mazda RX4 Wag"       "mazda"              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3,] "Datsun 710"          "datsun 710"         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4,] "Hornet 4 Drive"      "hornet drive"       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5,] "Hornet Sportabout"   "hornet sportabout"  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6,] "Valiant"             "valiant"            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7,] "Duster 360"          "duster 360"         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8,] "Merc 240D"           "mercedes 240d"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9,] "Merc 230"            "mercedes 230"       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10,] "Merc 280"            "mercedes 280"       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11,] "Merc 280C"           "mercedes 280c"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [12,] "Merc 450SE"          "mercedes s!"        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [13,] "Merc 450SL"          "mercedes s!"        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [14,] "Merc 450SLC"         "mercedes s!"        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [15,] "Cadillac Fleetwood"  "cadillac fleetwood" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [16,] "Lincoln Continental" "lincoln continental"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [17,] "Chrysler Imperial"   "chrysler imperial"  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [18,] "Fiat 128"            "fiat 128"           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [19,] "Honda Civic"         "honda civic"        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [20,] "Toyota Corolla"      "toyota corolla"     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [21,] "Toyota Corona"       "toyota corona"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [22,] "Dodge Challenger"    "dodge challenger"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [23,] "AMC Javelin"         "amc javelin"        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [24,] "Camaro Z28"          "camaro z28"         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [25,] "Pontiac Firebird"    "pontiac firebird"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26,] "Fiat X1-9"           "fiat x1-9"          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [27,] "Porsche 914-2"       "porsche 914-2"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [28,] "Lotus Europa"        "lotus europa"       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [29,] "Ford Pantera L"      "ford pantera"       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [30,] "Ferrari Dino"        "ferrari dino"       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [31,] "Maserati Bora"       "maserati bora"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [32,] "Volvo 142E"          "volvo 142e"         </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Laurent R Berge.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

